import{f as u}from"./fetch-99cnD71m.js";let p=localStorage.getItem("token");document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".get_entry"),l=document.querySelector(".result-body");t.addEventListener("click",async()=>{console.log("Klikki toimii"),u("http://localhost:3000/api/entries/1").then(n=>{console.log(n),l.innerHTML="",typeof n=="object"?Object.entries(n).forEach(([o,e])=>{const r=document.createElement("tr"),a=document.createElement("td"),s=document.createElement("td");a.textContent=o,s.textContent=e,r.appendChild(a),r.appendChild(s),l.appendChild(r)}):console.error("Data is not an object:",n)})})});const g=document.querySelector(".get_users");g.addEventListener("click",E);async function E(){const t="http://localhost:3000/api/users",l={method:"GET",headers:{Authorization:"Bearer: "+p}};u(t,l).then(c=>{console.log(c),y(c)})}async function y(t){const l="http://127.0.0.1:3000/api/users",c={method:"GET",headers:{Authorization:"Bearer: "+p}};u(l,c).then(o=>{console.log(o)});const n=document.querySelector(".tbody");n.innerHTML="",t.forEach(o=>{console.log(o.username);let e=document.createElement("tr"),r=document.createElement("td");r.innerText=o.username;let a=document.createElement("td");a.innerText=o.user_level;let s=document.createElement("td"),d=document.createElement("button");d.className="check",d.setAttribute("data-id","1"),d.innerText="Info",s.appendChild(d),d.addEventListener("click",f);let m=document.createElement("td"),i=document.createElement("button");i.className="del",i.setAttribute("data-id","1"),i.innerText="Delete",m.appendChild(i),i.addEventListener("click",k);let h=document.createElement("td");h.innerText=o.user_id,e.appendChild(r),e.appendChild(a),e.appendChild(s),e.appendChild(m),e.appendChild(h),n.appendChild(e)})}function f(){console.log("INFO PÅ DÄREN")}function k(t){console.log("DELETE NY:/");const l="http://localhost:3000/api/users/",n={method:"DELETE",headers:{Authorization:"Bearer:"+localStorage.getItem("token")}};confirm("ootko varma et haluut poistaa?")&&u(l,n).then(e=>{console.log(e),E()})}async function C(){console.log("Hei tääl ollaa ny pitäs hakea käyttäjänimi");let t=localStorage.getItem("name");console.log("nimesi on: ",t),document.getElementById("name").innerHTML=t}C();
